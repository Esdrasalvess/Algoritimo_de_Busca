<div class="grafo-container">
  <div
    class="drop-zone"
    [class.drag-over]="isDragOver"
    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
    (drop)="onDrop($event)"
  >
    <p *ngIf="!selectedFile">Arraste um arquivo JSON aqui ou clique para selecionar</p>
    <p *ngIf="selectedFile">Arquivo: {{ selectedFileName }}</p>
    <input type="file" (change)="onFileSelected($event)">
    <button *ngIf="selectedFile" (click)="removeFile()">Remover arquivo</button>
  </div>
  <div class="getLabirinto">
  <button (click)="gerarLabirinto(false)">Labirinto Aleatório</button>
  <button (click)="gerarLabirinto(true)">Labirinto Aleatório com heurística</button>
  <div class="info-heuristica" *ngIf="comHeuristica" style="background: #e3f2fd; padding: 10px; margin: 10px 0; border-radius: 4px;">
  {{ getInfoHeuristica() }}
</div>
  </div>
  <div class="nodes-input">
  <div>
    <label for="startNodeInput">Nó Inicial:</label>
    <input 
      id="startNodeInput" 
      type="text"
      [(ngModel)]="startNode"
      [placeholder]="startNodePlaceholder">
  </div>

  <div>
    <label for="endNodeInput">Nó Final:</label>
    <input 
      id="endNodeInput" 
      type="text" 
      [(ngModel)]="endNode"
      [placeholder]="endNodePlaceholder"
      [disabled]="!startNode"> 
  </div>
    <select [(ngModel)]="algoritmoBusca">
    <option value="" disabled selected>Selecione a busca</option>
    <option value="gulosa">Busca Gulosa</option>
    <option value="a_estrela">Busca A* (A Estrela)</option>
    <option value="a_estrela_ponderado">Busca A* Ponderado</option>
    <option value="dijkstra">Busca Dijkstra</option>
  </select>
    <button (click)="resolverGrafo()">Resolver</button>
  </div>
<div *ngIf="caminhoPassoAPasso.length > 0">
  <h3>Caminho resolvido:</h3>
  <ul>
    <li *ngFor="let passo of caminhoPassoAPasso">
      {{ passo.de }} → {{ passo.para }} (custo: {{ passo.custo }})
    </li>
  </ul>
  <p><strong>Custo total:</strong> {{ custoTotal }}</p>
</div>
<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
<div *ngIf="grafoData">
  <button (click)="animarCaminho()">Iniciar Animação do Caminho</button>
  <button (click)="resetar()">Resetar Animação</button>
</div>
</div>
<app-graph 
  [adjacencyData]="grafoData"
  (graphReady)="onGraphReady()"
  (nodeClicked)="onNodeSelected($event)">
</app-graph>

